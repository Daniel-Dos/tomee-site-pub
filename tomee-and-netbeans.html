<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
      <title>TomEE and NetBeans</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="./bootstrap.css" rel="stylesheet">
    <link href="./prettify.css" rel="stylesheet">
    <link href="./bootstrap-mods.css" rel="stylesheet">

    <style type="text/css">
        body {
          padding-top: 60px;
        }
        .sprite {
            display: inline-block;
            height: 20px;
            margin: 0 auto 4px;
            outline: medium none;
            text-indent: -999em;
            width: 24px;
            background-image: url('./images/sprites.png');
            background-repeat: no-repeat;
            overflow: hidden;
            cursor: pointer;
        }
        .edit-page {
            display: inline-block;
            height: 20px;
            margin: 0 auto 4px;
            outline: medium none;
            text-indent: -999em;
            width: 24px;
            background-image: url('./images/edit.png');
            background-repeat: no-repeat;
            overflow: hidden;
            cursor: pointer;
        }
        .fb-share {
            background-position: 0px -40px;
        }
        .gp-share {
            background-position: 0px 0px;
        }
        .tw-share {
            background-position: 0px -80px;
        }
    </style>

    <script type="text/javascript">
      function fbshare () {
          window.open(
                  "http://www.facebook.com/sharer/sharer.php?u="+document.URL,
                  'Share on Facebook',
                  'width=640,height=426');
      };
      function gpshare () {
          window.open(
                  "https://plus.google.com/share?url="+document.URL,
                  'Share on Google+',
                  'width=584,height=385');
      };
      function twshare () {
          window.open(
                  "https://twitter.com/intent/tweet?url="+document.URL+"&text=TomEE and NetBeans",
                  'Share on Twitter',
                  'width=800,height=526');
      };
    </script>

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="./images/favicon.ico">
    <link rel="apple-touch-icon" href="./images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./images/apple-touch-icon-114x114.png">

    <script src="./javascript/prettify.js" type="text/javascript"></script>
    <script src="./javascript/jquery-latest.js"></script>
    <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
    <script src="./javascript/common.js"></script>
    <script src="./javascript/prettyprint.js"></script>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-2717626-1']);
      _gaq.push(['_setDomainName', 'apache.org']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>

  <body>

    <div class="topbar">
      <div class="fill">
        <div class="container">
          <a class="brand" href="./index.html">Apache TomEE</a>
          <ul class="nav">
            <li><a href="./index.html">Home</a></li>
            <li><a href="./downloads.html">Downloads</a></li>
            <li><a href="./documentation.html">Documentation</a></li>
            <li><a href="./support.html">Support</a></li>
          </ul>

            <!-- Google CSE Search Box Begins  -->
            <FORM class="pull-right" id="searchbox_010475492895890475512:_t4iqjrgx90" action="http://www.google.com/cse">
                <INPUT type="hidden" name="cx" value="010475492895890475512:_t4iqjrgx90">
                <INPUT type="hidden" name="cof" value="FORID:0">
                <INPUT name="q" type="text" placeholder="Search">
            </FORM>
            <!--<SCRIPT type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_010475492895890475512:_t4iqjrgx90"></SCRIPT>-->
            <!-- Google CSE Search Box Ends -->
        </div>
      </div>
    </div>

    <div class="container">
    

<div class="page-header">
<small><a href="./index.html">Home</a></small><br>
<h1>TomEE and NetBeans

    <div style="float: right; position: relative; bottom: -10px; ">
        <a onclick="javascript:gpshare()" class="gp-share sprite" title="share on Google+">share [gp]</a>
        <a onclick="javascript:fbshare()" class="fb-share sprite" title="share on Facebook">share [fb]</a>
        <a onclick="javascript:twshare()" class="tw-share sprite" title="share on Twitter">share [tw]</a>
        <a data-toggle="modal" href="#edit" class="edit-page" title="Contribute to this Page">contribute</a>
    </div>
</h1>
</div>

<p>Netbeans and TomEE works great together. You can infact add TomEE as an Apache Tomcat server in Netbeans 
by following the simple steps given below. </p>

<p>Lets assume that you have already downloaded TomEE and you have NetBeans already setup.So to begin 
lets just create a Java Web project in NetBeans (Assuming you have basic working knowledge 
with NetBeans and you know how to create and run a web project in NetBeans). In the server screen 
we can add TomEE like the given screenshot below.</p>

<p><img src="images/netbeans-serverCreate1.png" alt="alt text" /></p>

<p>Now hit next. In the next step you need to select the folder where the TomEE server is present.</p>

<p><img src="images/netbeans-serverCreate2.png" alt="alt text" /></p>

<p>As soon as you hit finish your work is done. NetBeans would add the manager user in the tomcat 
server and also you will get back to the project creation window. Continue to the step for choosing 
your favorite web framework and complete the project creation process. Once the project is created 
just run it once to see if everything is fine.</p>

<p><strong>Working with OpenJPA in Netbeans</strong></p>

<p>Let us move to the point where we will do the more interesting part. We will configure 
OpenJPA in Netbeans so that the netbeans Entity generator can nicely work work OpenJPA and TomEE. 
So to do that you need to first create a connection to a database. Lets assume that we create one 
for MySQL server as shown in the screenshot below.</p>

<p><img src="images/netbeans-databaseConnection1.png" alt="alt text" /></p>

<p>So once this connection is there we are ready to create Entity classes from the selected database.
To do that follow the menu as shown in the screenshot below.
<img src="images/netbeans-entityCreationStep1.png" alt="alt text" /></p>

<p>Once you select "Entity Classes from Database" You will be presented with the follow dialog</p>

<p><img src="images/netbeans-entityCreationStep2.png" alt="alt text" /></p>

<p>In this dialog first of all we would select the connection that we created before from the top 
dropdown. Once you select the connection Netbeans would bring all the tables in 
"Available Tables" list. You can hit "Add All"  to select all tables for entity class generation.
 Now lets hit "Next" and go to the next screen. And then again hit next and in the next screen 
hit finish. You can accept all the defaults that are given by the system and finish the Entity 
creation wizard. With this you are done creating the entities. But as soon as you are done 
creating the entities  You will get a failed message from TomEE server (In case your TomEE server 
is running). This is because by default Netbeans generate Entity classes using Eclipselink which
 is not present in TomEE. So to make everybody happy. Next we will configure OpenJPA. To do that 
you need to open the persistence.xml file from the project (Project explorer -> double click on 
persistence.xml). This would open the persistence.xml editor window. As shown below</p>

<p><img src="images/netbeans-persistance1.png" alt="alt text" /></p>

<p>Now in this window we will select "New Persistence Library" option from the Persistence Library 
dropdown. This will open the following dialog box.</p>

<p><img src="images/netbeans-persistance2.png" alt="alt text" /></p>

<p>Here you need to choose the following two jar files from the TomEE installation 
folder - javaee-api-6.0-4-tomcat.jar and openjpa-asm-shaded-2.2.0.jar. Do make sure that you 
are choosing the jar files from the same location where your TomEE server is. Once you choose 
the proper libraries hit Ok to close the dialog and go back to the persistence.xml editor screen 
of netbeans.</p>

<p><img src="images/netbeans-persistance3.png" alt="alt text" /></p>

<p>Now here from the persistence library choose OpenJPA and save the file as shown in the above 
screenshot. Now just restart the server once and you are all set to run TomEE with JPA.</p>

<p>Do remember you may need to set your tomcat server in development mode so that your app gets 
deployed live. to do that you can follow the instructions given in the JSP hot deployment 
section following link</p>

<p><a href="http://tomee.apache.org/tomee-and-eclipse.html">link text</a></p>




        <div id="edit" class="modal hide fade in" style="display: none; ">
            <div class="modal-header">
                <a class="close" data-dismiss="modal">x</a>

                <h3>Thank you for contributing to the documention!</h3>
            </div>
            <div class="modal-body">
                <h4>Any help with the documentation is greatly appreciated.</h4>
                <p>All edits are reviewed before going live, so feel free to do much more than fix typos or links.  If you see a page that could benefit from an entire rewrite, we'd be thrilled to review it.  Don't be surprised if we like it so much we ask you for help with other pages :)</p>
                <small>NOTICE: unless indicated otherwise on the pages in question, all editable content available from apache.org is presumed to be licensed under the Apache License (AL) version 2.0 and hence all submissions to apache.org treated as formal Contributions under the license terms.</small>
                <!--[if gt IE 6]>
                <h4>Internet Explorer Users</h4>
                <p>If you are not an Apache committer, click the Yes link and enter a <i>anonymous</i> for the username and leave the password empty</p>
                <![endif]-->

            </div>
            <div class="modal-footer">
                Do you have an Apache ID?
                <a href="javascript:void(location.href='https://cms.apache.org/redirect?uri='+escape(location.href))" class="btn">Yes</a>
                <a href="javascript:void(location.href='https://anonymous:@cms.apache.org/redirect?uri='+escape(location.href))" class="btn">No</a>
            </div>
        </div>
        <script src="./javascript/bootstrap-modal.js"></script>

      <footer>
        <p>
        Copyright &copy; 2011 The Apache Software Foundation, Licensed under the Apache License, Version 2.0.
        Apache and the Apache feather logo are trademarks of The Apache Software Foundation.
        </p>
      </footer>

    </div> <!-- /container -->

  </body>
</html>
